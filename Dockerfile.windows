# 用于在Mac/Linux上打包Windows应用的Dockerfile
FROM python:3.10-windowsservercore

WORKDIR /app

# 复制项目文件
COPY requirements.txt .
COPY build.py .
COPY src/ ./src/

# 安装依赖
RUN pip install --no-cache-dir -r requirements.txt
RUN pip install --no-cache-dir pyinstaller

# 打包
CMD ["python", "build.py", "--platform", "windows"]
